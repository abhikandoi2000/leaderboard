/*!
* TableSorter 2.7 - Client-side table sorting with ease!
* @requires jQuery v1.2.6+
*
* Copyright (c) 2007 Christian Bach
* Examples and docs at: http://tablesorter.com
* Dual licensed under the MIT and GPL licenses:
* http://www.opensource.org/licenses/mit-license.php
* http://www.gnu.org/licenses/gpl.html
*
* @type jQuery
* @name tablesorter
* @cat Plugins/Tablesorter
* @author Christian Bach/christian.bach@polyester.se
* @contributor Rob Garrison/https://github.com/Mottie/tablesorter
*//*jshint browser:true, jquery:true, unused:false, expr: true *//*global console:false, alert:false */!function(e){"use strict";e.extend({tablesorter:new function(){function n(e){typeof console!="undefined"&&typeof console.log!="undefined"?console.log(e):alert(e)}function r(e,t){n(e+" ("+((new Date).getTime()-t.getTime())+"ms)")}function i(t,n,r){if(!n)return"";var i=t.config,s=i.textExtraction,o="";return s==="simple"?i.supportsTextContent?o=n.textContent:o=e(n).text():typeof s=="function"?o=s(n,t,r):typeof s=="object"&&s.hasOwnProperty(r)?o=s[r](n,t,r):o=i.supportsTextContent?n.textContent:e(n).text(),e.trim(o)}function s(e,r,s,o){var u,a=t.parsers.length,f=!1,l="",c=!0;while(l===""&&c)s++,r[s]?(f=r[s].cells[o],l=i(e,f,o),e.config.debug&&n("Checking if value was empty on row "+s+", column: "+o+": "+l)):c=!1;for(u=1;u<a;u++)if(t.parsers[u].is(l,e,f))return t.parsers[u];return t.parsers[0]}function o(r){var i=r.config,o=e(r.tBodies).filter(":not(."+i.cssInfoBlock+")"),u,a,f,l,c,h,p,d="";if(o.length===0)return i.debug?n("*Empty table!* Not building a parser cache"):"";u=o[0].rows;if(u[0]){a=[],f=u[0].cells.length;for(l=0;l<f;l++)c=i.$headers.filter(":not([colspan])"),c=c.add(i.$headers.filter('[colspan="1"]')).filter('[data-column="'+l+'"]:last'),h=i.headers[l],p=t.getParserById(t.getData(c,h,"sorter")),i.empties[l]=t.getData(c,h,"empty")||i.emptyTo||(i.emptyToBottom?"bottom":"top"),i.strings[l]=t.getData(c,h,"string")||i.stringTo||"max",p||(p=s(r,u,-1,l)),i.debug&&(d+="column:"+l+"; parser:"+p.id+"; string:"+i.strings[l]+"; empty: "+i.empties[l]+"\n"),a.push(p)}return i.debug&&n(d),a}function u(s){var o=s.tBodies,u=s.config,a,f,l=u.parsers,c,h,p,d,v,m,g,y,b=[];u.cache={};if(!l)return u.debug?n("*Empty table!* Not building a cache"):"";u.debug&&(y=new Date),u.showProcessing&&t.isProcessing(s,!0);for(v=0;v<o.length;v++){u.cache[v]={row:[],normalized:[]};if(!e(o[v]).hasClass(u.cssInfoBlock)){a=o[v]&&o[v].rows.length||0,f=o[v].rows[0]&&o[v].rows[0].cells.length||0;for(p=0;p<a;++p){m=e(o[v].rows[p]),g=[];if(m.hasClass(u.cssChildRow)){u.cache[v].row[u.cache[v].row.length-1]=u.cache[v].row[u.cache[v].row.length-1].add(m);continue}u.cache[v].row.push(m);for(d=0;d<f;++d)c=i(s,m[0].cells[d],d),h=l[d].format(c,s,m[0].cells[d],d),g.push(h),(l[d].type||"").toLowerCase()==="numeric"&&(b[d]=Math.max(Math.abs(h),b[d]||0));g.push(u.cache[v].normalized.length),u.cache[v].normalized.push(g)}u.cache[v].colMax=b}}u.showProcessing&&t.isProcessing(s),u.debug&&r("Building cache for "+a+" rows",y)}function a(n,i){var s=n.config,o=n.tBodies,u=[],a=s.cache,f,l,c,h,p,d,v,m,g,y,b,w;if(!a[0])return;s.debug&&(w=new Date);for(g=0;g<o.length;g++){p=e(o[g]);if(!p.hasClass(s.cssInfoBlock)){d=t.processTbody(n,p,!0),f=a[g].row,l=a[g].normalized,c=l.length,h=c?l[0].length-1:0;for(v=0;v<c;v++){b=l[v][h],u.push(f[b]);if(!s.appender||!s.removeRows){y=f[b].length;for(m=0;m<y;m++)d.append(f[b][m])}}t.processTbody(n,d,!1)}}s.appender&&s.appender(n,u),s.debug&&r("Rebuilt table",w),i||t.applyWidget(n),e(n).trigger("sortEnd",n)}function f(t){var n=[],r={},i=e(t).find("thead:eq(0), tfoot").children("tr"),s,o,u,a,f,l,c,h,p,d,v,m;for(s=0;s<i.length;s++){l=i[s].cells;for(o=0;o<l.length;o++){f=l[o],c=f.parentNode.rowIndex,h=c+"-"+f.cellIndex,p=f.rowSpan||1,d=f.colSpan||1,typeof n[c]=="undefined"&&(n[c]=[]);for(u=0;u<n[c].length+1;u++)if(typeof n[c][u]=="undefined"){v=u;break}r[h]=v,e(f).attr({"data-column":v});for(u=c;u<c+p;u++){typeof n[u]=="undefined"&&(n[u]=[]),m=n[u];for(a=v;a<v+d;a++)m[a]="x"}}}return r}function l(e){return/^d/i.test(e)||e===1}function c(i){var s=f(i),o,u,a,c,h,p,d,v,m=i.config;return m.headerList=[],m.headerContent=[],m.debug&&(d=new Date),c=m.cssIcon?'<i class="'+m.cssIcon+'"></i>':"",v=e(i).find(m.selectorHeaders).each(function(n){u=e(this),o=m.headers[n],m.headerContent[n]=this.innerHTML,h=m.headerTemplate.replace(/\{content\}/g,this.innerHTML).replace(/\{icon\}/g,c),m.onRenderTemplate&&(a=m.onRenderTemplate.apply(u,[n,h]),a&&typeof a=="string"&&(h=a)),this.innerHTML='<div class="tablesorter-header-inner">'+h+"</div>",m.onRenderHeader&&m.onRenderHeader.apply(u,[n]),this.column=s[this.parentNode.rowIndex+"-"+this.cellIndex],this.order=l(t.getData(u,o,"sortInitialOrder")||m.sortInitialOrder)?[1,0,2]:[0,1,2],this.count=-1,t.getData(u,o,"sorter")==="false"?(this.sortDisabled=!0,u.addClass("sorter-false")):u.removeClass("sorter-false"),this.lockedOrder=!1,p=t.getData(u,o,"lockedOrder")||!1,typeof p!="undefined"&&p!==!1&&(this.order=this.lockedOrder=l(p)?[1,1,1]:[0,0,0]),u.addClass((this.sortDisabled?"sorter-false ":" ")+m.cssHeader),m.headerList[n]=this,u.parent().addClass(m.cssHeaderRow)}),i.config.debug&&(r("Built headers:",d),n(v)),v}function h(t){var n,r,i,s,o=t.config,u=o.sortList,a=[o.cssAsc,o.cssDesc],f=e(t).find("tfoot tr").children().removeClass(a.join(" "));o.$headers.removeClass(a.join(" ")),s=u.length;for(r=0;r<s;r++)if(u[r][1]!==2){n=o.$headers.not(".sorter-false").filter('[data-column="'+u[r][0]+'"]'+(s===1?":last":""));if(n.length)for(i=0;i<n.length;i++)n[i].sortDisabled||(n.eq(i).addClass(a[u[r][1]]),f.length&&f.filter('[data-column="'+u[r][0]+'"]').eq(i).addClass(a[u[r][1]]))}}function p(t){if(t.config.widthFixed&&e(t).find("colgroup").length===0){var n=e("<colgroup>"),r=e(t).width();e("tr:first td",t.tBodies[0]).each(function(){n.append(e("<col>").css("width",parseInt(e(this).width()/r*1e3,10)/10+"%"))}),e(t).prepend(n)}}function d(t,n){var r,i,s,o=t.config,u=n||o.sortList;o.sortList=[],e.each(u,function(t,n){r=[parseInt(n[0],10),parseInt(n[1],10)],s=o.headerList[r[0]],s&&(o.sortList.push(r),i=e.inArray(r[1],s.order),s.count=i>=0?i:r[1]%(o.sortReset?3:2))})}function v(e,t){return e&&e[t]?e[t].type||"":""}function m(t){var n,i,s,o=0,u=0,a=t.config,f=a.sortList,l=f.length,c=t.tBodies.length,h,p,d,m,g,y,b,w,E,S,x,T;if(a.serverSideSorting||!a.cache[0])return;a.debug&&(h=new Date);for(m=0;m<c;m++)y=a.cache[m].colMax,b=a.cache[m].normalized,w=b.length,T=b&&b[0]?b[0].length-1:0,b.sort(function(n,r){for(p=0;p<l;p++){g=f[p][0],x=f[p][1],E=/n/i.test(v(a.parsers,g))?"Numeric":"Text",E+=x===0?"":"Desc",/Numeric/.test(E)&&a.strings[g]&&(typeof a.string[a.strings[g]]=="boolean"?u=(x===0?1:-1)*(a.string[a.strings[g]]?-1:1):u=a.strings[g]?a.string[a.strings[g]]||0:0);var i=e.tablesorter["sort"+E](t,n[g],r[g],g,y[g],u);if(i)return i}return n[T]-r[T]});a.debug&&r("Sorting on "+f.toString()+" and dir "+x+" time",h)}function g(e,t){e.trigger("updateComplete"),typeof t=="function"&&t(e[0])}function y(e,t,n){t!==!1?e.trigger("sorton",[e[0].config.sortList,function(){g(e,n)}]):g(e,n)}var t=this;t.version="2.7",t.parsers=[],t.widgets=[],t.defaults={theme:"default",widthFixed:!1,showProcessing:!1,headerTemplate:"{content}",onRenderTemplate:null,onRenderHeader:null,cancelSelection:!0,dateFormat:"mmddyyyy",sortMultiSortKey:"shiftKey",sortResetKey:"ctrlKey",usNumberFormat:!0,delayInit:!1,serverSideSorting:!1,headers:{},ignoreCase:!0,sortForce:null,sortList:[],sortAppend:null,sortInitialOrder:"asc",sortLocaleCompare:!1,sortReset:!1,sortRestart:!1,emptyTo:"bottom",stringTo:"max",textExtraction:"simple",textSorter:null,widgets:[],widgetOptions:{zebra:["even","odd"]},initWidgets:!0,initialized:null,tableClass:"tablesorter",cssAsc:"tablesorter-headerAsc",cssChildRow:"tablesorter-childRow",cssDesc:"tablesorter-headerDesc",cssHeader:"tablesorter-header",cssHeaderRow:"tablesorter-headerRow",cssIcon:"tablesorter-icon",cssInfoBlock:"tablesorter-infoOnly",cssProcessing:"tablesorter-processing",selectorHeaders:"> thead th, > thead td",selectorSort:"th, td",selectorRemove:".remove-me",debug:!1,headerList:[],empties:{},strings:{},parsers:[]},t.benchmark=r,t.construct=function(r){return this.each(function(){if(!this.tHead||this.tBodies.length===0||this.hasInitialized===!0)return this.config.debug?n("stopping initialization! No thead, tbody or tablesorter has already been initialized"):"";var s,f=e(this),l,v,g,b="",w,E,S,x,T=e.metadata;this.hasInitialized=!1,this.config={},l=e.extend(!0,this.config,t.defaults,r),e.data(this,"tablesorter",l),l.debug&&e.data(this,"startoveralltimer",new Date),l.supportsTextContent=e("<span>x</span>")[0].textContent==="x",l.supportsDataObject=parseFloat(e.fn.jquery)>=1.4,l.string={max:1,min:-1,"max+":1,"max-":-1,zero:0,none:0,"null":0,top:!0,bottom:!1},/tablesorter\-/.test(f.attr("class"))||(b=l.theme!==""?" tablesorter-"+l.theme:""),f.addClass(l.tableClass+b),l.$headers=c(this),l.parsers=o(this),l.delayInit||u(this),l.$headers.find("*").andSelf().filter(l.selectorSort).unbind("mousedown.tablesorter mouseup.tablesorter").bind("mousedown.tablesorter mouseup.tablesorter",function(n,r){var i=this.tagName.match("TH|TD")?e(this):e(this).parents("th, td").filter(":last"),s=i[0];if((n.which||n.button)!==1)return!1;if(n.type==="mousedown")return x=(new Date).getTime(),n.target.tagName==="INPUT"?"":!l.cancelSelection;if(r!==!0&&(new Date).getTime()-x>250)return!1;l.delayInit&&!l.cache&&u(f[0]);if(!s.sortDisabled){f.trigger("sortStart",f[0]),b=!n[l.sortMultiSortKey],s.count=n[l.sortResetKey]?2:(s.count+1)%(l.sortReset?3:2),l.sortRestart&&(v=s,l.$headers.each(function(){this!==v&&(b||!e(this).is("."+l.cssDesc+",."+l.cssAsc))&&(this.count=-1)})),v=s.column;if(b){l.sortList=[];if(l.sortForce!==null){w=l.sortForce;for(g=0;g<w.length;g++)w[g][0]!==v&&l.sortList.push(w[g])}S=s.order[s.count];if(S<2){l.sortList.push([v,S]);if(s.colSpan>1)for(g=1;g<s.colSpan;g++)l.sortList.push([v+g,S])}}else{l.sortAppend&&l.sortList.length>1&&t.isValueInArray(l.sortAppend[0][0],l.sortList)&&l.sortList.pop();if(t.isValueInArray(v,l.sortList))for(g=0;g<l.sortList.length;g++)E=l.sortList[g],S=l.headerList[E[0]],E[0]===v&&(E[1]=S.order[S.count],E[1]===2&&(l.sortList.splice(g,1),S.count=-1));else{S=s.order[s.count];if(S<2){l.sortList.push([v,S]);if(s.colSpan>1)for(g=1;g<s.colSpan;g++)l.sortList.push([v+g,S])}}}if(l.sortAppend!==null){w=l.sortAppend;for(g=0;g<w.length;g++)w[g][0]!==v&&l.sortList.push(w[g])}f.trigger("sortBegin",f[0]),setTimeout(function(){h(f[0]),m(f[0]),a(f[0])},1)}}),l.cancelSelection&&l.$headers.each(function(){this.onselectstart=function(){return!1}}),f.unbind("sortReset update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").bind("sortReset",function(){l.sortList=[],h(this),m(this),a(this)}).bind("update",function(t,n,r){e(l.selectorRemove,this).remove(),l.parsers=o(this),u(this),y(f,n,r)}).bind("updateCell",function(t,n,r,s){var o,u,a,c=this,h=e(this).find("tbody"),p=h.index(e(n).parents("tbody").filter(":last")),d=e(n).parents("tr").filter(":last");n=e(n)[0],h.length&&p>=0&&(u=h.eq(p).find("tr").index(d),a=n.cellIndex,o=c.config.cache[p].normalized[u].length-1,c.config.cache[p].row[c.config.cache[p].normalized[u][o]]=d,c.config.cache[p].normalized[u][a]=l.parsers[a].format(i(c,n,a),c,n,a),y(f,r,s))}).bind("addRows",function(t,n,r,s){var u,a=n.filter("tr").length,c=[],h=n[0].cells.length,p=this,d=e(this).find("tbody").index(n.closest("tbody"));l.parsers||(l.parsers=o(p));for(u=0;u<a;u++){for(g=0;g<h;g++)c[g]=l.parsers[g].format(i(p,n[u].cells[g],g),p,n[u].cells[g],g);c.push(l.cache[d].row.length),l.cache[d].row.push([n[u]]),l.cache[d].normalized.push(c),c=[]}y(f,r,s)}).bind("sorton",function(t,n,r,i){e(this).trigger("sortStart",this),d(this,n),h(this),m(this),a(this,i),typeof r=="function"&&r(this)}).bind("appendCache",function(e,t,n){a(this,n),typeof t=="function"&&t(this)}).bind("applyWidgetId",function(e,n){t.getWidgetById(n).format(this,l,l.widgetOptions)}).bind("applyWidgets",function(e,n){t.applyWidget(this,n)}).bind("refreshWidgets",function(e,n,r){t.refreshWidgets(this,n,r)}).bind("destroy",function(e,n,r){t.destroy(this,n,r)}),l.supportsDataObject&&typeof f.data().sortlist!="undefined"?l.sortList=f.data().sortlist:T&&f.metadata()&&f.metadata().sortlist&&(l.sortList=f.metadata().sortlist),t.applyWidget(this,!0),l.sortList.length>0?f.trigger("sorton",[l.sortList,{},!l.initWidgets]):l.initWidgets&&t.applyWidget(this),p(this),l.showProcessing&&f.unbind("sortBegin sortEnd").bind("sortBegin sortEnd",function(e){t.isProcessing(f[0],e.type==="sortBegin")}),this.hasInitialized=!0,l.debug&&t.benchmark("Overall initialization time",e.data(this,"startoveralltimer")),f.trigger("tablesorter-initialized",this),typeof l.initialized=="function"&&l.initialized(this)})},t.isProcessing=function(n,r,i){var s=n.config,o=i||e(n).find("."+s.cssHeader);r?(s.sortList.length>0&&(o=o.filter(function(){return this.sortDisabled?!1:t.isValueInArray(parseFloat(e(this).attr("data-column")),s.sortList)})),o.addClass(s.cssProcessing)):o.removeClass(s.cssProcessing)},t.processTbody=function(t,n,r){var i,s;if(r)return n.before('<span class="tablesorter-savemyplace"/>'),s=e.fn.detach?n.detach():n.remove(),s;s=e(t).find("span.tablesorter-savemyplace"),n.insertAfter(s),s.remove()},t.clearTableBody=function(t){e(t.tBodies).filter(":not(."+t.config.cssInfoBlock+")").empty()},t.destroy=function(n,r,i){var s=e(n),o=n.config,u=s.find("thead:first");n.hasInitialized=!1,u.find("tr:not(."+o.cssHeaderRow+")").remove(),u.find(".tablesorter-resizer").remove(),t.refreshWidgets(n,!0,!0),s.removeData("tablesorter").unbind("sortReset update updateCell addRows sorton appendCache applyWidgetId applyWidgets refreshWidgets destroy mouseup mouseleave").find("."+o.cssHeader).unbind("click mousedown mousemove mouseup").removeClass(o.cssHeader+" "+o.cssAsc+" "+o.cssDesc).find(".tablesorter-header-inner").each(function(){o.cssIcon!==""&&e(this).find("."+o.cssIcon).remove(),e(this).replaceWith(e(this).contents())}),r!==!1&&s.removeClass(o.tableClass),typeof i=="function"&&i(n)},t.regex=[/(^-?[0-9]+(\.?[0-9]*)[df]?e?[0-9]?$|^0x[0-9a-f]+$|[0-9]+)/gi,/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,/^0x[0-9a-f]+$/i],t.sortText=function(e,n,r,i){if(n===r)return 0;var s=e.config,o=s.string[s.empties[i]||s.emptyTo],u=t.regex,a,f,l,c,h,p,d,v;if(n===""&&o!==0)return typeof o=="boolean"?o?-1:1:-o||-1;if(r===""&&o!==0)return typeof o=="boolean"?o?1:-1:o||1;if(typeof s.textSorter=="function")return s.textSorter(n,r,e,i);a=n.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),l=r.replace(u[0],"\\0$1\\0").replace(/\\0$/,"").replace(/^\\0/,"").split("\\0"),f=parseInt(n.match(u[2]),16)||a.length!==1&&n.match(u[1])&&Date.parse(n),c=parseInt(r.match(u[2]),16)||f&&r.match(u[1])&&Date.parse(r)||null;if(c){if(f<c)return-1;if(f>c)return 1}v=Math.max(a.length,l.length);for(d=0;d<v;d++){h=isNaN(a[d])?a[d]||0:parseFloat(a[d])||0,p=isNaN(l[d])?l[d]||0:parseFloat(l[d])||0;if(isNaN(h)!==isNaN(p))return isNaN(h)?1:-1;typeof h!=typeof p&&(h+="",p+="");if(h<p)return-1;if(h>p)return 1}return 0},t.sortTextDesc=function(e,n,r,i){if(n===r)return 0;var s=e.config,o=s.string[s.empties[i]||s.emptyTo];return n===""&&o!==0?typeof o=="boolean"?o?-1:1:o||1:r===""&&o!==0?typeof o=="boolean"?o?1:-1:-o||-1:typeof s.textSorter=="function"?s.textSorter(r,n,e,i):t.sortText(e,r,n)},t.getTextValue=function(e,t,n){if(t){var r,i=e.length,s=t+n;for(r=0;r<i;r++)s+=e.charCodeAt(r);return n*s}return 0},t.sortNumeric=function(e,n,r,i,s,o){if(n===r)return 0;var u=e.config,a=u.string[u.empties[i]||u.emptyTo];return n===""&&a!==0?typeof a=="boolean"?a?-1:1:-a||-1:r===""&&a!==0?typeof a=="boolean"?a?1:-1:a||1:(isNaN(n)&&(n=t.getTextValue(n,s,o)),isNaN(r)&&(r=t.getTextValue(r,s,o)),n-r)},t.sortNumericDesc=function(e,n,r,i,s,o){if(n===r)return 0;var u=e.config,a=u.string[u.empties[i]||u.emptyTo];return n===""&&a!==0?typeof a=="boolean"?a?-1:1:a||1:r===""&&a!==0?typeof a=="boolean"?a?1:-1:-a||-1:(isNaN(n)&&(n=t.getTextValue(n,s,o)),isNaN(r)&&(r=t.getTextValue(r,s,o)),r-n)},t.characterEquivalents={a:"áàâãäąå",A:"ÁÀÂÃÄĄÅ",c:"çćč",C:"ÇĆČ",e:"éèêëěę",E:"ÉÈÊËĚĘ",i:"íìİîïı",I:"ÍÌİÎÏ",o:"óòôõö",O:"ÓÒÔÕÖ",ss:"ß",SS:"ẞ",u:"úùûüů",U:"ÚÙÛÜŮ"},t.replaceAccents=function(e){var n,r="[",i=t.characterEquivalents;if(!t.characterRegex){t.characterRegexArray={};for(n in i)typeof n=="string"&&(r+=i[n],t.characterRegexArray[n]=new RegExp("["+i[n]+"]","g"));t.characterRegex=new RegExp(r+"]")}if(t.characterRegex.test(e))for(n in i)typeof n=="string"&&(e=e.replace(t.characterRegexArray[n],n));return e},t.isValueInArray=function(e,t){var n,r=t.length;for(n=0;n<r;n++)if(t[n][0]===e)return!0;return!1},t.addParser=function(e){var n,r=t.parsers.length,i=!0;for(n=0;n<r;n++)t.parsers[n].id.toLowerCase()===e.id.toLowerCase()&&(i=!1);i&&t.parsers.push(e)},t.getParserById=function(e){var n,r=t.parsers.length;for(n=0;n<r;n++)if(t.parsers[n].id.toLowerCase()===e.toString().toLowerCase())return t.parsers[n];return!1},t.addWidget=function(e){t.widgets.push(e)},t.getWidgetById=function(e){var n,r,i=t.widgets.length;for(n=0;n<i;n++){r=t.widgets[n];if(r&&r.hasOwnProperty("id")&&r.id.toLowerCase()===e.toLowerCase())return r}},t.applyWidget=function(n,i){var s=n.config,o=s.widgetOptions,u=s.widgets.sort().reverse(),a,f,l,c=u.length;f=e.inArray("zebra",s.widgets),f>=0&&(s.widgets.splice(f,1),s.widgets.push("zebra")),s.debug&&(a=new Date);for(f=0;f<c;f++)l=t.getWidgetById(u[f]),l&&(i===!0&&l.hasOwnProperty("init")?l.init(n,l,s,o):!i&&l.hasOwnProperty("format")&&l.format(n,s,o));s.debug&&r("Completed "+(i===!0?"initializing":"applying")+" widgets",a)},t.refreshWidgets=function(r,i,s){var o,u=r.config,a=u.widgets,f=t.widgets,l=f.length;for(o=0;o<l;o++)f[o]&&f[o].id&&(i||e.inArray(f[o].id,a)<0)&&(u.debug&&n("Refeshing widgets: Removing "+f[o].id),f[o].hasOwnProperty("remove")&&f[o].remove(r,u,u.widgetOptions));s!==!0&&t.applyWidget(r,i)},t.getData=function(t,n,r){var i="",s=e(t),o,u;return s.length?(o=e.metadata?s.metadata():!1,u=" "+(s.attr("class")||""),typeof s.data(r)!="undefined"||typeof s.data(r.toLowerCase())!="undefined"?i+=s.data(r)||s.data(r.toLowerCase()):o&&typeof o[r]!="undefined"?i+=o[r]:n&&typeof n[r]!="undefined"?i+=n[r]:u!==" "&&u.match(" "+r+"-")&&(i=u.match(new RegExp(" "+r+"-(\\w+)"))[1]||""),e.trim(i)):""},t.formatFloat=function(t,n){if(typeof t!="string"||t==="")return t;var r,i=n&&n.config?n.config.usNumberFormat!==!1:typeof n!="undefined"?n:!0;return i?t=t.replace(/,/g,""):t=t.replace(/[\s|\.]/g,"").replace(/,/g,"."),/^\s*\([.\d]+\)/.test(t)&&(t=t.replace(/^\s*\(/,"-").replace(/\)/,"")),r=parseFloat(t),isNaN(r)?e.trim(t):r},t.isDigit=function(e){return isNaN(e)?/^[\-+(]?\d+[)]?$/.test(e.toString().replace(/[,.'"\s]/g,"")):!0}}});var t=e.tablesorter;e.fn.extend({tablesorter:t.construct}),t.addParser({id:"text",is:function(e,t,n){return!0},format:function(n,r,i,s){var o=r.config;return n=e.trim(o.ignoreCase?n.toLocaleLowerCase():n),o.sortLocaleCompare?t.replaceAccents(n):n},type:"text"}),t.addParser({id:"currency",is:function(e){return/^\(?\d+[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]|[\u00a3$\u20ac\u00a4\u00a5\u00a2?.]\d+\)?$/.test(e)},format:function(e,n){return t.formatFloat(e.replace(/[^\w,. \-()]/g,""),n)},type:"numeric"}),t.addParser({id:"ipAddress",is:function(e){return/^\d{1,3}[\.]\d{1,3}[\.]\d{1,3}[\.]\d{1,3}$/.test(e)},format:function(e,n){var r,i=e.split("."),s="",o=i.length;for(r=0;r<o;r++)s+=("00"+i[r]).slice(-3);return t.formatFloat(s,n)},type:"numeric"}),t.addParser({id:"url",is:function(e){return/^(https?|ftp|file):\/\//.test(e)},format:function(t){return e.trim(t.replace(/(https?|ftp|file):\/\//,""))},type:"text"}),t.addParser({id:"isoDate",is:function(e){return/^\d{4}[\/\-]\d{1,2}[\/\-]\d{1,2}$/.test(e)},format:function(e,n){return t.formatFloat(e!==""?(new Date(e.replace(/-/g,"/"))).getTime()||"":"",n)},type:"numeric"}),t.addParser({id:"percent",is:function(e){return/(\d\s?%|%\s?\d)/.test(e)},format:function(e,n){return t.formatFloat(e.replace(/%/g,""),n)},type:"numeric"}),t.addParser({id:"usLongDate",is:function(e){return/^[A-Z]{3,10}\.?\s+\d{1,2},?\s+(\d{4})(\s+\d{1,2}:\d{2}(:\d{2})?(\s+[AP]M)?)?$/i.test(e)},format:function(e,n){return t.formatFloat((new Date(e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",n)},type:"numeric"}),t.addParser({id:"shortDate",is:function(e){return/^(\d{1,2}|\d{4})[\/\-\,\.\s+]\d{1,2}[\/\-\.\,\s+](\d{1,2}|\d{4})$/.test(e)},format:function(e,n,r,i){var s=n.config,o=s.headerList[i],u=o.shortDateFormat;return typeof u=="undefined"&&(u=o.shortDateFormat=t.getData(o,s.headers[i],"dateFormat")||s.dateFormat),e=e.replace(/\s+/g," ").replace(/[\-|\.|\,]/g,"/"),u==="mmddyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$1/$2"):u==="ddmmyyyy"?e=e.replace(/(\d{1,2})[\/\s](\d{1,2})[\/\s](\d{4})/,"$3/$2/$1"):u==="yyyymmdd"&&(e=e.replace(/(\d{4})[\/\s](\d{1,2})[\/\s](\d{1,2})/,"$1/$2/$3")),t.formatFloat((new Date(e)).getTime()||"",n)},type:"numeric"}),t.addParser({id:"time",is:function(e){return/^(([0-2]?\d:[0-5]\d)|([0-1]?\d:[0-5]\d\s?([AP]M)))$/i.test(e)},format:function(e,n){return t.formatFloat((new Date("2000/01/01 "+e.replace(/(\S)([AP]M)$/i,"$1 $2"))).getTime()||"",n)},type:"numeric"}),t.addParser({id:"digit",is:function(e){return t.isDigit(e)},format:function(e,n){return t.formatFloat(e.replace(/[^\w,. \-()]/g,""),n)},type:"numeric"}),t.addParser({id:"metadata",is:function(e){return!1},format:function(t,n,r){var i=n.config,s=i.parserMetadataName?i.parserMetadataName:"sortValue";return e(r).metadata()[s]},type:"numeric"}),t.addWidget({id:"zebra",format:function(n,r,i){var s,o,u,a,f,l,c,h,p=new RegExp(r.cssChildRow,"i"),d=e(n).children("tbody:not(."+r.cssInfoBlock+")");r.debug&&(l=new Date);for(c=0;c<d.length;c++)s=e(d[c]),h=s.children("tr").length,h>1&&(a=0,o=s.children("tr:visible"),o.each(function(){u=e(this),p.test(this.className)||a++,f=a%2===0,u.removeClass(i.zebra[f?1:0]).addClass(i.zebra[f?0:1])}));r.debug&&t.benchmark("Applying Zebra widget",l)},remove:function(t,n,r){var i,s,o=e(t).children("tbody:not(."+n.cssInfoBlock+")"),u=(n.widgetOptions.zebra||["even","odd"]).join(" ");for(i=0;i<o.length;i++)s=e.tablesorter.processTbody(t,e(o[i]),!0),s.children().removeClass(u),e.tablesorter.processTbody(t,s,!1)}})}(jQuery);